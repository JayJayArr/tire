<nb-card
  [nbSpinner]="loading"
  nbSpinnerMessage="Loading"
  nbSpinnerStatus="primary"
>
  <nb-card-header>
    <h3>Readers</h3>
    <input
      placeholder="Filter {{ dataSource.data.length }} readers"
      nbInput
      [(ngModel)]="filterstring"
      class="input"
      (keyup)="applyFilter(filterstring)"
    />
    <button
      nbButton
      status="primary"
      class="reset-button"
      (click)="resetFilter()"
    >
      Reset Filter
    </button>
    <button
      nbButton
      status="primary"
      class="refresh-button"
      (click)="refresh()"
    >
      Refresh<nb-icon icon="refresh-outline"></nb-icon>
    </button>
  </nb-card-header>
  <nb-card-body>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!-- ID Column -->
      <!-- <ng-container matColumnDef="id"> -->
      <!--   <th mat-header-cell *matHeaderCellDef>ID</th> -->
      <!--   <td mat-cell *matCellDef="let element"> -->
      <!--     {{ element.id.toString() }} -->
      <!--   </td> -->
      <!-- </ng-container> -->
      <!-- name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">
          {{ element.name }}
        </td>
      </ng-container>
      <!-- active Column -->
      <ng-container matColumnDef="active">
        <th mat-header-cell *matHeaderCellDef>Active</th>
        <td mat-cell *matCellDef="let element">
          <nb-toggle
            status="primary"
            (checkedChange)="saveReader(element, $event)"
            [(ngModel)]="element.active"
          ></nb-toggle>
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns"
        class="mat-header"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        class="mat-row"
      ></tr>
    </table>
  </nb-card-body>
</nb-card>
<nb-layout></nb-layout>
