<nb-card
  [nbSpinner]="loading"
  nbSpinnerMessage="Loading"
  nbSpinnerStatus="primary"
>
  <nb-card-header>
    <h3>Users</h3>
    <input
      placeholder="Filter {{ dataSource.data.length }} users"
      nbInput
      [(ngModel)]="filterstring"
      class="input"
      (keyup)="applyFilter(filterstring)"
    />
    <button
      nbButton
      status="primary"
      class="reset-button"
      (click)="resetFilter()"
    >
      Reset Filter
    </button>
    <button
      nbButton
      status="primary"
      class="refresh-button"
      (click)="refresh()"
    >
      Refresh<nb-icon icon="refresh-outline"></nb-icon>
    </button>
    <button
      nbButton
      status="primary"
      class="add-button"
      (click)="adduserDialog()"
    >
      Add User<nb-icon icon="plus-outline"></nb-icon>
    </button>
  </nb-card-header>
  <nb-card-body>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!-- email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">
          {{ element.email }}
        </td>
      </ng-container>
      <!-- cardno Column -->
      <ng-container matColumnDef="cardno">
        <th mat-header-cell *matHeaderCellDef>Cardno</th>
        <td mat-cell *matCellDef="let element">
          {{ element.cardno }}
        </td>
      </ng-container>
      <!-- roles Column -->
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef>Roles</th>
        <td mat-cell *matCellDef="let element">
          {{ element.roles }}
        </td>
      </ng-container>
      <!-- active Column -->
      <ng-container matColumnDef="active">
        <th mat-header-cell *matHeaderCellDef>Active</th>
        <td mat-cell *matCellDef="let element">{{ element.active }}</td>
      </ng-container>
      <!-- edit column -->
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let element">
          <button
            nbButton
            size="small"
            (click)="editdialog(element)"
            status="primary"
          >
            <nb-icon icon="edit-outline"></nb-icon>
          </button>
        </td>
      </ng-container>
      <!-- delete column -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Delete</th>
        <td mat-cell *matCellDef="let element">
          <button
            nbButton
            size="small"
            (click)="deletedialog(element)"
            status="danger"
          >
            <nb-icon icon="trash-outline"></nb-icon>
          </button>
        </td>
      </ng-container>
      <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns"
        class="mat-header"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        class="mat-row"
      ></tr>
    </table>
  </nb-card-body>
</nb-card>
